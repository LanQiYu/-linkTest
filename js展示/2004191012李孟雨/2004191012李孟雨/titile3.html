<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>吴国</title>

    <link rel="stylesheet" href="all.css">
    <link rel="stylesheet" href="mouseStyle.css">
    <link rel="stylesheet" href="time.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/page1.css">

    <link rel="stylesheet" href="css/style666.css">

    <script src="js/mouseStyle.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="js/music.js"></script> -->
    <script src="js/polyfill.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
</head>

<body>
    <div class="content">
        <!-- 头部导航栏 -->
        <ul class="venus-menu">
            <li class="active">
                <a href="index.html"><i class="iconfont icon-xiaochuan" style="color: red;font-size: 30px;"></i>首页</a>
            </li>
            <li>
                <a><i></i>武将</a>
                <div class="indicator">+</div>
                <ul>
                    <li><a href="javascript:scroll('t1')">周泰</a></li>
                    <li><a href="javascript:scroll('2')">孙策</a></li>
                    <li><a href="javascript:scroll('3')">丁奉</a></li>
                    <li><a href="javascript:scroll('4')">太史慈</a></li>
                    <li><a href="javascript:scroll('5')">甘宁</a></li>
                </ul>
            </li>
            <li>
                <a href=""><i></i>军师</a>
                <div class="indicator">+</div>
                <ul>
                    <li><a href="javascript:scroll('t2')">周瑜</a></li>
                    <li><a href="javascript:scroll('6')">鲁肃</a></li>
                    <li><a href="javascript:scroll('8')">吕蒙</a></li>
                    <li><a href="javascript:scroll('8')">陆逊</a></li>
                    <li><a href="javascript:scroll('9')">张昭</a></li>
                </ul>
            </li>
            <li>
                <a href=""><i></i>重大战役</a>
                <div class="indicator">+</div>
                <ul>
                    <li><a href="javascript:scroll('t3')">襄阳之战</a></li>
                    <li><a href="javascript:scroll('11')">吴郡平定之战</a></li>
                    <li><a href="javascript:scroll('12')">赤壁之战</a></li>
                    <li><a href="javascript:scroll('12')">南郡之战</a></li>
                    <li><a href="javascript:scroll('12')">合肥之战</a></li>
                    <li><a href="javascript:scroll('12')">樊城之战</a></li>
                    <li><a href="javascript:scroll('12')">夷陵之战</a></li>
                </ul>
            </li>
            <li class="search">
                <form action="" method="get" target="_blank">
                    <input type="text" name="keyworf" id="search" placeholder="百度搜索">
                </form>
            </li>
        </ul>
    </div>


    <div style="width: 100%; height: 100%; display: none;">花瓣飘落</div>
    <script src="js/snowfall.jquery.js"></script>
    <script>
        $(document).snowfall('clear');
        $(document).snowfall({
            image: "https://pic.kuaizhan.com/g3/c3/9b/3f72-60cf-4d91-8500-4f193c67c59205", flakeCount: 10,
            minSize: 15,
            maxSize: 25
        })
    </script>
    <!-- 轮播 -->

    <div id="main">
        <div id="hero-slides">
            <div id="slides-cont">
                <div class="button" id="next"></div>
                <div class="button" id="prev"></div>
                <div id="slides">
                    <div class="slide" style="background-image: url(img/xiangyang.jpg);">
                        <div class="number">191年</div>
                        <div class="body">
                            <div class="location">孙坚攻刘表围樊城后被黄祖所杀，其子孙策败黄祖，换回尸首</div>
                            <div class="headline">襄阳<br>之战</div><br>
                            <a href="javascript:scroll('t1')">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url(img/wujun.jpg);">
                        <div class="number">196年</div>
                        <div class="body">
                            <div class="location">孙策平定地方割据，打下吴国基础</div>
                            <div class="headline">吴郡平定之战</div><br>
                            <a href="javascript:scroll('t2')">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url(img/chibi.jpg);">
                        <div class="number">208年</div>
                        <div class="body">
                            <div class="location">周瑜合计黄盖，火烧赤壁，败曹操</div>
                            <div class="headline">赤壁<br>之战</div><br>
                            <a href="javascript:scroll('t3')">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    </div>
                    
                    <div class="slide" style="background-image: url(img/nanjun.jpg);">
                        <div class="number">209年</div>
                        <div class="body">
                            <div class="location">周瑜攻曹仁于南郡，被曹仁用计所伤，遂诈死，大败曹仁于南郡</div>
                            <div class="headline">南郡<br>之战</div><br>
                            <a href="javascript:scroll('t5')">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    <div class="slide" style="background-image: url(img/hefei.jpg);">
                        <div class="number">215年</div>
                        <div class="body">
                            <div class="location">孙权率10万大军攻魏，大败</div>
                            <div class="headline">合肥<br>之战</div><br>
                            <a href="javascript:scroll('t4')">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    </div>
                    </div>
                    <div class="slide" style="background-image: url(img/fancheng.jpg);">
                        <div class="number">
                            219年</div>
                        <div class="body">
                            <div class="location">孙权与曹操联盟，吕蒙率军北上，劝降傅士仁和糜芳，打败关羽，斩关羽于麦城</div>
                            <div class="headline">樊城<br>之战</div><br>
                            <a href="">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url(img/yiling.jpg);">
                        <div class="number">
                            222年</div>
                        <div class="body">
                            <div class="location">陆逊火烧联营破刘备</div>
                            <div class="headline">夷陵<br>之战</div><br>
                            <a href="">
                                <div class="link">前往了解</div>
                            </a>
                        </div>
                    </div>
                    <div id="next-catch"></div>
                    <div id="prev-catch"></div>
                </div>
            </div>
        </div>
    </div>


    <!-- 时间线 -->
    <div class="about2">
        <div class="wrapper">


            <div class="tit" id="t1">
                <h6 class="f12">00</h6>
                <h5 class="f24">武将</h5>
            </div>
            <ul class="clearfix-time">
                <li id="1">
                    <a>
                        <h4 class="f30">
                            周泰<br>？-？年
                        </h4>
                    </a>
                    <span class="span">字幼平吴将</span>
                    <p class="14">原为水贼后归顺孙策</p>
                </li>
                <li>
                    <a>
                        <h4 class="f30">
                            因十分勇猛<br> 为孙权贴身护卫
                        </h4>
                    </a>
                    <span class="span">合肥之战，重伤，但依然以身当盾，救出孙权</span>
                    <p class="14">孙权颇谢之</p>
                </li>
                <li id="2">
                    <a>
                        <h4 class="f30">
                            孙策<br />175-200年
                        </h4>
                    </a>
                    <span class="span">字伯符</span>
                    <p class="14">初随父仕刘表后创业</p>
                </li>
                <li>
                    <a>
                        <h4 class="f30">
                            人称<br>“小霸王”
                        </h4>
                    </a>
                    <span class="span">平定江东一带</span>
                    <p class="14">广纳良才</p>
                </li>
            </ul>

            <div class="tit" id="t2">
                <h6 class="f12"></h6>
                <h5 class="f24"></h5>
            </div>
            <ul class="clearfix-time">
                <li id="3">
                    <a>
                        <h4 class="f30">
                            丁奉<br> ？-271年
                        </h4>
                    </a>
                    <span class="span">字承渊吴将</span>
                    <p class="14">出仕孙权</p>
                </li>
                <li>
                    <a">
                        <h4 class="f30">
                            曾破张辽<br>
                        </h4>
                    </a>
                    <span class="span">仕吴70年</span>
                    <p class="14">最高为大将军</p>
                </li>
                <li id="4">
                    <a>
                        <h4 class="f30">
                            太史慈<br />169- 209年
                        </h4>
                    </a>
                    <span class="span">字子义</span>
                    <p class="14">为人重义且孝</p>
                </li>
                <li>
                    <a>
                        <h4 class="f30">
                            擅长<br>弓箭
                        </h4>
                    </a>
                    <span class="span">与孙策实力不相上下</span>
                    <p class="14">念孙策知遇之恩，遂归顺吴国</p>
                </li>
                <li id="5">
                    <a>
                        <h4 class="f30">
                            甘宁<br />？- 222年
                        </h4>
                    </a>
                    <span class="span">字兴霸吴将</span>
                    <p class="14">水贼出身，素兴与地痞为伍</p>
                </li>
                <li>
                    <a>
                        <h4 class="f30">
                            曾仕<br>刘表、黄祖
                        </h4>
                    </a>
                    <span class="span">后寄身于吴受周瑜、吕蒙重用</span>
                    <p class="14">活跃于赤壁和对魏战争中</p>
                </li>
            </ul>
        </div>
    </div>
    <footer class="act">
        <svg viewBox="0 0 120 28">
			<defs>
				<filter id="goo">
					<feGaussianBlur in="SourceGraphic" stdDeviation="1" result="blur" />
					<feColorMatrix in="blur" mode="matrix" values="
       1 0 0 0 0  
       0 1 0 0 0  
       0 0 1 0 0  
       0 0 0 13 -9" result="goo" />
					<xfeBlend in="SourceGraphic" in2="goo" />
				</filter>
				<path id="wave"
					d="M 0,10 C 30,10 30,15 60,15 90,15 90,10 120,10 150,10 150,15 180,15 210,15 210,10 240,10 v 28 h -240 z" />
			</defs>
			<use id="wave3" class="wave" xlink:href="#wave" x="0" y="-2"></use>
			<use id="wave2" class="wave" xlink:href="#wave" x="0" y="0">
			</use>
			<g class="gooeff" filter="url(#goo)">
				<circle class="drop drop1" cx="20" cy="2" r="8.8" />
				<circle class="drop drop2" cx="25" cy="2.5" r="7.5" />
				<circle class="drop drop3" cx="16" cy="2.8" r="9.2" />
				<circle class="drop drop4" cx="18" cy="2" r="8.8" />
				<circle class="drop drop5" cx="22" cy="2.5" r="7.5" />
				<circle class="drop drop6" cx="26" cy="2.8" r="9.2" />
				<circle class="drop drop1" cx="5" cy="4.4" r="8.8" />
				<circle class="drop drop2" cx="5" cy="4.1" r="7.5" />
				<circle class="drop drop3" cx="8" cy="3.8" r="9.2" />
				<circle class="drop drop4" cx="3" cy="4.4" r="8.8" />
				<circle class="drop drop5" cx="7" cy="4.1" r="7.5" />
				<circle class="drop drop6" cx="10" cy="4.3" r="9.2" />
				<circle class="drop drop1" cx="1.2" cy="5.4" r="8.8" />
				<circle class="drop drop2" cx="5.2" cy="5.1" r="7.5" />
				<circle class="drop drop3" cx="10.2" cy="5.3" r="9.2" />
				<circle class="drop drop4" cx="3.2" cy="5.4" r="8.8" />
				<circle class="drop drop5" cx="14.2" cy="5.1" r="7.5" />
				<circle class="drop drop6" cx="17.2" cy="4.8" r="9.2" />
				<use id="wave1" class="wave" xlink:href="#wave" x="0" y="1" />
			</g>
		</svg>
    </footer>





    




</body>

<div class="actGotop"><a href="javascript:;" title="飞回顶部">
    </a></div>
<script>
    var height = document.documentElement.clientHeight;

    var width = document.documentElement.clientWidth;
    $(function () {
        //在页面超出1000px的时候（高），让小火箭显示，小于1000px 隐藏
        $(window).scroll(function () {
            if ($(window).scrollTop() >= 950) {
                $(".actGotop").stop().fadeIn(500);
                $(".act").stop().fadeIn();
            } else {
                $(".actGotop").stop().fadeOut(500);
                $(".act").stop().fadeOut();
            }
        })
        $(window).scroll(function () {
            if ($(window).scrollTop() >= height) {
                $(".act").stop().fadeIn();
            } else {
                $(".act").stop().fadeOut();
            }
        })
    });
    //在外部注册
    $(".actGotop").click(function () {
        $("html,body").stop().animate({
            scrollTop: 0
        }, 1000)
    })
</script>


<script type="text/javascript">
    function scroll(id) {
        console.log(id);
        $("html,body").animate({
            scrollTop: $("#" + id).offset().top
        }, 1000);
    }
</script>
<script>
    let hero = document.getElementById('hero-slides');
    let menu = document.getElementById('menu');
    let slides = document.getElementById('slides');
    console.log(slides);
    let next = ['next', 'next-catch'].map(n => document.getElementById(n));
    let prev = ['prev', 'prev-catch'].map(n => document.getElementById(n));

    let slidesChildren = slides.children;
    let slidesCount = slides.children.length;
    let currentlyDemoing = false;
    let currentPage = 0;
    let slidesPerPage = () => window.innerWidth > 1700 ? 4 : window.innerWidth > 1200 ? 3 : 2;
    let maxPageCount = () => slidesCount / slidesPerPage() - 1;

    function goToPage(pageNumber = 0) {
        currentPage = Math.min(maxPageCount(), Math.max(0, pageNumber));
        console.log(currentPage)
        hero.style.setProperty('--page', currentPage)
    }
    function sleep(time) {
        return new Promise(res => setTimeout(res, time))
    }
    function hoverSlide(index) {
        index in slidesChildren && slidesChildren[index].classList.add('hover')
    }
    function unhoverSlide(index) {
        index in slidesChildren && slidesChildren[index].classList.add('hover')
    }
    async function demo() {
        if (currentlyDemoing) {
            return;
        }
        currentlyDemoing = true;
        if (currentPage !== 0) {
            goToPage(0);
            await sleep(800);
        }
        let slides = slidesPerPage();
        let pageSeq_ = {
            2: [1, 2, 1],
            3: [1, 2, 1 / 3],
            4: [1, 1, 0],
        }
        let pageSeq = pageSeq_[slides] || pageSeq_[4];
        let slideSeq_ = {
            2: [2, 4, 3],
            3: [3, 6, 2],
            4: [3, 6, 2]
        }
        let slideSeq = slideSeq_[slides] || slideSeq_[2];
        await sleep(300);
        goToPage(pageSeq[0]);
        await sleep(500);
        hoverSlide(slideSeq[0]);
        await sleep(1200);
        goToPage(pageSeq[1]);
        unhoverSlide(slideSeq[0]);

        await sleep(500);
        hoverSlide(slideSeq[1]);
        await sleep(1200);
        goToPage(pageSeq[2]);
        unhoverSlide(slideSeq[1]);
        await sleep(300);
        hoverSlide(slideSeq[2]);
        await sleep(1600);
        goToPage(0);
        unhoverSlide(slideSeq[2]);
        currentlyDemoing = false;
    }
    next.forEach(n => n.addEventListener('click', () => !currentlyDemoing && goToPage(currentPage + 1)));
    prev.forEach(n => n.addEventListener('click', () => !currentlyDemoing && goToPage(currentPage - 1)));
    sleep(100).then(demo);
    console.log(goToPage);
</script>

</html>
